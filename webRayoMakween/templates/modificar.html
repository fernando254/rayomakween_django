{% extends "base.html" %}
{% load static %}


{% block css %}


<link rel="stylesheet" href="{% static 'css/formulario.css' %}">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
  integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
<script src="{% static 'js/sweetalert2.all.min.js' %}"></script>
<script src="{% static 'js/jquery-3.6.0.min.js' %}"></script>
{% endblock css %}

{% block contenido %}

<section id="bienvenida">
  <h2 style="text-align: center; margin-top: 20px;">Formulario modificacion</h2>
  <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Aliquam quasi nihil, doloremque ullam iure nobis magnam
    cum ratione, velit at dignissimos porro laboriosam, saepe commodi illo? Modi iusto quo libero.</p>
</section>


<section id="formulario">

  <form class="form-registro" action="{% url 'MODIFICAR' %}" enctype="multipart/form-data" method="post"
    onsubmit="return validarFormulario()">
    {% csrf_token %}
    <h2 class="form-titulo">Modificacion mantencion</h2>

    <div class="contenedor-input">
      <input class="col-g" style="margin-bottom: 30px; margin-top: 20px; margin-left: 10px; margin-right: 10px;"
        type="text" name="txtNombre" id="txtNombre" placeholder="nombre" minlength="3" value="{{mecanico.nombre}}">

      <input class="col-g" style="margin-bottom: 20px; margin-left: 10px; margin-right: 10px;" type="text"
        name="txtDesc" id="txtDesc" placeholder="desc" required value="{{mecanico.descripcion}}">

      <div>Imagen Actual: <a href="{{mecanico.imagen.url}}">{{mecanico.imagen.url}}</a></div>
      <input class="col-g" type="file" name="txtImg" id="txtImg">

      <select class="col-g" style="margin: 10px; padding: 10px;" name="cboCategoria" id="cboCategoria">
        {% for reg in cate %}
            {% if reg.nombre == mecanico.categoria.nombre %}
                <option selected>{{reg.nombre}}</option>
            {% else %}
                <option>{{reg.nombre}}</option>
            {% endif %}
        {% endfor %}

      </select>

      <input class="btn-registrar" type="submit" value="Modificar">
      <input class="btn-registrar" type="button" value="Cancelar">

    </div>
  </form>

  <div style="text-align: center;color:red">{{mensaje}}</div>

</section>

{% endblock contenido %}

{% block js %}
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
  integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
{% endblock js %}